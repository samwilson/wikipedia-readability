<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{title}}</title>
        <link rel="stylesheet" href="//tools-static.wmflabs.org/cdnjs/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" />
    </head>
    <body>
        <div class="container">
            <div class="page-header">
                <h1>{{title}}</h1>
                <p>
                    This tool displays up to fifty pages in a given category on English Wikipedia,
                    ranked by their <a href="https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests">Flesch reading ease</a> scores.
                </p>
            </div>

            <form action="index.php" method="get">
                <div class="form-group">
                    <label for="cat" class="form-label">Enter a category name:</label>
                    <input type="text" name="cat" class="form-control" {% if cat %}value="{{cat}}"{% endif %} />
                </div>
                <div class="form-group">
                    <input type="submit" value="Search" class="btn btn-info" />
                </div>
            </form>

            {% if cat and not pages %}
            <div class="alert alert-warning">
                No pages found in category "{{cat}}"
            </div>
            {% endif %}

            {% if pages %}
                <div class="alert alert-info">
                    {{pages|length|number_format}} pages retrieved from
                    <a href="https://en.wikipedia.org/wiki/Category:{{cat}}" class="alert-link">Category:{{cat}}</a>
                </div>
                <table class="table table-condensed">
                    <caption>Key to the Flesch reading ease scores:</caption>
                    <thead>
                        <tr>
                            <th>Score</th>
                            <th>School Level</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="flesch90">90.0–100.0</td>
                            <td>5th grade</td>
                            <td>Very easy to read. Easily understood by an average 11-year-old student.</td>
                        </tr>
                        <tr>
                            <td class="flesch80">80.0–90.0</td>
                            <td>6th grade</td>
                            <td>Easy to read. Conversational English for consumers.</td>
                        </tr>
                        <tr>
                            <td>70.0–80.0</td>
                            <td>7th grade</td>
                            <td>Fairly easy to read.</td>
                        </tr>
                        <tr>
                            <td>60.0–70.0</td>
                            <td>8th &amp; 9th grade</td>
                            <td>Plain English. Easily understood by 13- to 15-year-old students.</td>
                        </tr>
                        <tr>
                            <td>50.0–60.0</td>
                            <td>10th to 12th grade</td>
                            <td>Fairly difficult to read.</td>
                        </tr>
                        <tr>
                            <td>30.0–50.0</td>
                            <td>college</td>
                            <td>Difficult to read.</td>
                        </tr>
                        <tr>
                            <td>0.0–30.0</td>
                            <td>college graduate</td>
                            <td>Very difficult to read. Best understood by university graduates.</td>
                        </tr>
                    </tbody>
                </table>

                <ol>
                    {% for page in pages %}
                        <li style="border-color:rgb(100,{{(255 * (page.score/100))|round}},100); border-style:solid; border-width:0 0 0 1em; padding-left:0.3em">
                            <strong>{{page.score|number_format(1)}}</strong>
                            <a href="https://en.wikipedia.org/wiki/{{page.title}}">{{page.title}}</a>
                            {{page.extract}}
                        </li>
                    {% endfor %}
                </ol>
            {% endif %}
            <p class="text-muted">Please report any bugs or feature requests via <a href="https://github.com/samwilson/wikipedia-readability/issues">GitHub</a>.</p>
        </div>
        <script type="text/javascript" src="//tools-static.wmflabs.org/cdnjs/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script type="text/javascript" src="//tools-static.wmflabs.org/cdnjs/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
    </body>
</html>
